# OpenAssist 用户手册

## 🎯 系统概述

OpenAssist是一个AI辅助的MDM（主数据管理）物料维护流程平台，帮助主数据团队高效处理物料变更请求。

## 🚪 登录系统

### 访问地址
```
http://localhost:5001
```

### 登录方式

**Demo模式**（开发/演示）:
- 用户名: `demo`
- 密码: `demo`

**IWMS SSO**（生产环境）:
- 使用公司域账号登录
- 需要内网环境

## 📊 功能模块

### 1. 仪表盘

登录后默认显示仪表盘，提供：

#### 统计数据
- **待审批**: 当前等待处理的请求数量
- **已审批**: 已批准的请求数量
- **已拒绝**: 被拒绝的请求数量
- **总请求数**: 所有请求总计

#### 最近请求
显示最近提交的5条变更请求，可快速查看状态。

---

### 2. AI文档解析

自动解析业务团队提交的物料维护请求文档。

#### 使用步骤

1. **点击"AI解析"Tab**

2. **输入文档内容**
   - 直接粘贴文档文本
   - 或点击"加载示例"查看格式

3. **文档格式示例**:
   ```
   Item: SAMPLE-001, change status from Active to Inactive
   Item: SAMPLE-002, update buyer to BUYER123
   Item: SAMPLE-003, change pallet config from Standard to Custom
   ```

4. **点击"开始解析"**
   - AI会自动提取物料号、变更字段、新旧值等信息
   - 生成结构化的变更记录

5. **查看解析结果**
   - 系统显示识别到的所有变更
   - 自动生成请求ID
   - 保存到变更请求列表

#### AI解析字段说明
- **Request ID**: 自动生成的唯一请求编号
- **Item**: 物料号
- **Org**: 组织（默认US01）
- **Change Type**: 变更类型（Update/Create/Deactivate）
- **Field**: 要变更的字段名
- **Old Value**: 原值
- **New Value**: 新值
- **System**: 目标系统（PLM/EBS/PLM/EBS）
- **Priority**: 优先级（High/Medium/Low）
- **Risk**: 风险等级（High/Medium/Low）

---

### 3. 变更请求管理

管理所有物料变更请求。

#### 功能说明

##### 筛选请求
使用"状态筛选"下拉框：
- **全部**: 显示所有请求
- **待审批**: 仅显示Pending状态
- **已审批**: 仅显示Approved状态
- **已拒绝**: 仅显示Rejected状态

##### 查看详情
点击任意请求的"查看"按钮，弹出详情窗口显示：
- 完整的变更信息
- 创建人和时间
- 审批人和时间（如已审批）
- 备注和更新结果

##### 审批操作
对于待审批（Pending）状态的请求：
- **批准**: 点击"✓ 批准"按钮
  - 可输入审批备注（可选）
  - 系统会调用PLM/EBS接口执行更新
  - 记录审批结果
  
- **拒绝**: 点击"✗ 拒绝"按钮
  - 必须输入拒绝理由
  - 请求状态变更为Rejected

##### 删除请求
- 仅待审批状态的请求可删除
- 点击"删除"按钮
- 确认后永久删除

##### 刷新列表
点击"🔄 刷新"按钮重新加载数据。

---

### 4. 物料数据查询

查询PLM和EBS系统中的物料主数据。

#### 使用步骤

1. **输入物料号**
   - 在搜索框输入完整物料号
   - 例如: `DEMO-ITEM-001`

2. **点击"查询"按钮**
   - 或按Enter键

3. **查看结果**
   - **左侧：EBS数据**
     - 物料号、描述、单位
     - 物料类型、状态
     - 价格、标志位
     - 创建和更新时间
   
   - **右侧：PLM数据**
     - 物料号、描述
     - 托盘配置、BOM
     - 工程状态、生命周期
     - 更新时间

#### 用途
- 审批前查看当前值
- 对比变更前后差异
- 验证数据一致性

---

### 5. 字段词典管理

维护业务描述到系统字段的映射关系，帮助AI更准确地解析文档。

#### 查看词典
显示所有字典项，包括：
- 业务描述（如："change status"）
- 字段名（如："item_status"）
- 系统（如："PLM/EBS"）
- 描述（详细说明）
- 创建时间

#### 添加词典项

1. **点击"+ 添加字典项"**

2. **填写表单**:
   - **业务描述**: 业务人员常用的描述（如："update buyer"）
   - **字段名**: 系统中的实际字段名（如："buyer_code"）
   - **系统**: 所属系统（如："EBS"或"PLM/EBS"）
   - **描述**: 详细说明（可选）

3. **点击"保存"**

#### 编辑词典项
1. 点击要编辑的词典项的"编辑"按钮
2. 修改信息
3. 点击"保存"

#### 删除词典项
1. 点击"删除"按钮
2. 确认删除

#### 词典示例
| 业务描述 | 字段名 | 系统 |
|---------|--------|------|
| change status | item_status | PLM/EBS |
| change buyer | buyer_code | EBS |
| update pallet | pallet_config | PLM |
| update BOM | bom | PLM/EBS |
| change description | description | PLM/EBS |
| update UOM | primary_uom_code | EBS |

---

## 💡 使用技巧

### 批量处理
1. 将多条变更请求写在一个文档中
2. 使用AI解析一次性生成多条请求
3. 逐条审批

### 提高解析准确率
1. 维护完整的字段词典
2. 使用规范的描述格式
3. 明确标注物料号和字段名

### 审批流程
1. 使用物料查询功能查看当前值
2. 确认变更内容正确
3. 添加审批备注
4. 批准或拒绝

---

## 📱 界面说明

### 顶部导航栏
- **左侧**: OpenAssist Logo
- **右侧**: 当前用户 + 登出按钮

### Tab导航
- 📊 仪表盘 - 总览和统计
- 🔍 AI解析 - 文档解析
- 📋 变更请求 - 请求管理
- 🔎 物料查询 - 数据查询
- 📖 字段词典 - 词典维护

### 状态标签
- **黄色**: 待审批（Pending）
- **绿色**: 已审批（Approved）
- **红色**: 已拒绝（Rejected）

### 优先级标签
- **红色**: High
- **黄色**: Medium
- **蓝色**: Low

---

## ❓ 常见问题

### Q1: AI解析不准确怎么办？
**A**: 
1. 检查字段词典是否完整
2. 使用更规范的文档格式
3. 解析后可手动编辑修正

### Q2: 物料查询显示"无数据"？
**A**: 
1. 检查物料号是否正确
2. 确认物料在系统中存在
3. 数据库连接问题会使用Mock数据

### Q3: 审批后如何确认更新成功？
**A**: 
1. 查看请求详情中的"更新结果"
2. 使用物料查询功能验证
3. 检查审批历史

### Q4: 删除的请求能恢复吗？
**A**: 
不能。删除前请确认，建议使用"拒绝"功能而非删除。

### Q5: 如何批量导出数据？
**A**: 
当前版本暂不支持，计划在下一版本添加。

---

## 🔔 注意事项

1. **权限管理**: 当前版本所有登录用户权限相同
2. **数据持久化**: 数据保存在JSON文件，定期备份
3. **审批撤销**: 已审批的请求无法撤销
4. **并发操作**: 避免多人同时编辑同一请求

---

## 📞 技术支持

如有问题，请联系：
- IT部门
- 系统管理员
- 查看README.md文档

---

**祝使用愉快！** 🎉
