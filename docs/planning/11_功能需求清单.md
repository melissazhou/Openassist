# 11 功能需求清单

## Phase 1: 基础框架 (MVP)

| # | 功能 | 优先级 | 说明 |
|---|---|---|---|
| 1.1 | 项目初始化 | P0 | Next.js + TypeScript + Tailwind + shadcn/ui |
| 1.2 | 数据库搭建 | P0 | PostgreSQL + Prisma Schema + Migration |
| 1.3 | 认证登录 | P0 | 本地账号 + IWMS SSO |
| 1.4 | Dashboard | P0 | KPI卡片 + 状态分布 + 最近活动 |
| 1.5 | 变更请求列表 | P0 | 高级表格 + 过滤 + 排序 + 分页 |
| 1.6 | 变更请求详情 | P0 | 查看/编辑 + 状态变更 |
| 1.7 | 新建变更请求 | P0 | 表单 + 验证 |
| 1.8 | Smart Parser | P0 | 迁移现有解析逻辑到TypeScript |
| 1.9 | Ingest API | P0 | 兼容现有接口 + 新Schema验证 |
| 1.10 | 数据迁移 | P0 | JSON → PostgreSQL |
| 1.11 | 全局搜索 | P1 | Command+K 搜索 |
| 1.12 | 响应式布局 | P1 | 侧边栏折叠 + 移动端基本可用 |

## Phase 2: 企业级功能

| # | 功能 | 优先级 | 说明 |
|---|---|---|---|
| 2.1 | RBAC权限 | P0 | 角色/权限/数据范围控制 |
| 2.2 | 用户管理 | P0 | CRUD + 角色分配 + 启用/禁用 |
| 2.3 | 审批工作流 | P0 | 多级审批 + 状态流转 |
| 2.4 | 审批中心 | P0 | 待审批列表 + 一键操作 |
| 2.5 | 审计日志 | P0 | 全操作记录 + 查询 + 导出 |
| 2.6 | 通知系统 | P1 | 站内信 + 邮件通知 |
| 2.7 | 评论系统 | P1 | 变更请求评论 + @提及 |
| 2.8 | 附件管理 | P1 | 文件上传/下载/预览 |
| 2.9 | 数据导出 | P1 | Excel/CSV导出 |
| 2.10 | 批量导入 | P1 | Excel模板下载+导入+校验 |
| 2.11 | 保存筛选条件 | P2 | 个人/共享筛选视图 |
| 2.12 | 看板视图 | P2 | Kanban拖拽(按状态列) |

## Phase 3: MDM核心能力

| # | 功能 | 优先级 | 说明 |
|---|---|---|---|
| 3.1 | 数据质量规则 | P0 | 规则配置 + 实时/批量校验 |
| 3.2 | 数据质量仪表板 | P0 | 质量评分 + 错误分布 + 趋势 |
| 3.3 | 数据标准管理 | P1 | 编码/命名/分类标准维护 |
| 3.4 | 数据字典 | P1 | 字段定义/业务术语/枚举值管理 |
| 3.5 | 批量变更管理 | P1 | 批量提交 + 批量审批 + 批量执行 |
| 3.6 | 版本历史 | P1 | 字段级变更对比 + 回滚 |
| 3.7 | 变更影响分析 | P2 | 变更一条数据→影响哪些下游 |
| 3.8 | 数据血缘 | P2 | 数据来源→目标的可视化链路 |
| 3.9 | 匹配与去重 | P2 | 模糊匹配 + 合并建议 |
| 3.10 | 数据分析模型 | P3 | 主数据覆盖率/完整性/一致性指标 |

## Phase 4: 集成与智能

| # | 功能 | 优先级 | 说明 |
|---|---|---|---|
| 4.1 | 集成配置管理 | P0 | 连接器配置 + 测试连接 |
| 4.2 | 变更同步引擎 | P0 | 审批通过→自动同步→确认 |
| 4.3 | 同步日志 | P0 | 同步记录 + 失败重试 + 告警 |
| 4.4 | SharePoint连接器 | P0 | 迁移现有抓取逻辑 |
| 4.5 | EBS连接器 | P1 | Item/BOM变更写入 |
| 4.6 | WMS连接器 | P1 | 映射表/状态更新 |
| 4.7 | AI智能分类 | P2 | 自动分类+字段提取增强 |
| 4.8 | AI异常检测 | P2 | 识别异常变更模式 |
| 4.9 | API文档 | P1 | Swagger/OpenAPI自动生成 |
| 4.10 | Webhook | P2 | 事件推送到外部系统 |

## Phase 5: 运维治理

| # | 功能 | 优先级 | 说明 |
|---|---|---|---|
| 5.1 | 系统配置 | P0 | 参数/功能开关/业务规则 |
| 5.2 | 定时任务管理 | P1 | 调度配置 + 执行日志 + 手动触发 |
| 5.3 | 健康检查 | P1 | 系统状态 + DB/Redis + 磁盘 |
| 5.4 | 报表中心 | P1 | 多维度统计报表 + 导出 |
| 5.5 | SLA管理 | P2 | 处理时效目标 + 达标率追踪 |
| 5.6 | 公告管理 | P2 | 系统公告/维护通知 |
| 5.7 | 操作手册 | P1 | 内嵌帮助文档 |
| 5.8 | 个人设置 | P2 | 通知偏好/语言/主题 |

---

## 功能对比: 现有 vs 目标

| 能力域 | 现有OpenAssist | 成熟MDM系统 | 差距 |
|---|---|---|---|
| 数据存储 | JSON文件 | 关系数据库+缓存 | 🔴 完全缺失 |
| 用户认证 | 硬编码4用户 | RBAC+SSO+LDAP | 🔴 基础 |
| 变更管理 | 列表+过滤 | 全生命周期+工作流 | 🟡 部分 |
| 审批流程 | 无 | 多级审批+会签+委托 | 🔴 完全缺失 |
| 数据质量 | 无 | 规则引擎+批量检查 | 🔴 完全缺失 |
| 数据标准 | 无 | 标准库+字典+分类 | 🔴 完全缺失 |
| 系统集成 | Ingest API | 双向连接器+同步引擎 | 🟡 单向 |
| 审计追溯 | 无 | 全字段级审计 | 🔴 完全缺失 |
| 通知 | 无 | 多渠道通知 | 🔴 完全缺失 |
| 报表 | 基础Stats | 多维分析+导出 | 🟡 基础 |
| 导入导出 | 无 | Excel批量+模板 | 🔴 完全缺失 |
| UI/UX | Flask模板 | 现代SPA+响应式 | 🔴 落后 |
